<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0; /* add a light grey background */
            text-align: center; /* center all text */
        }
        .search-container {
            margin: 1em;
            display: flex; /* create a flexible layout */
            justify-content: center; /* center the child items */
            align-items: center; /* align items vertically */
        }
        .search-container input {
            width: 50%; /* make the input larger */
            padding: 10px; /* add some padding */
            font-size: 1em; /* make the text larger */
        }
        .player-data {
            margin: 1em auto; /* center the div */
            border: 1px solid #000;
            padding: 1em;
            width: 50%; /* specify a width */
            background-color: #ffffff; /* add a white background */
        }
        .title {
            font-size: 2em; /* make the title larger */
            color: #0000ff; /* make the title blue */
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1 class="title">NHL Player Statistics</h1> <!-- Add the title -->
    <div class="search-container">
        <input type="text" id="playerName" placeholder="Enter NHL player name (LAST NAME First Name)">
        <button onclick="searchPlayer()">Search Player</button>
    </div>
    <div class="player-data" id="playerData">
        <!-- Player data will be inserted here -->
    </div>
</body>

<script>
    async function searchPlayer() {
        const playerName = document.getElementById('playerName').value;
        const options = {
            method: 'GET',
            url: `https://hockey-live-sk-data.p.rapidapi.com/player/${playerName}/NHL`,
            params: {
                key: 'b034f54d9ae5dab25f5cc385cca146d6'
            },
            headers: {
                name: 'SATAN Miroslav',
                'X-RapidAPI-Key': '3d86dd31a2mshca1f32e22e2396cp1f7302jsn610cf54ceeb6',
                'X-RapidAPI-Host': 'hockey-live-sk-data.p.rapidapi.com'
            }
        };

        try {
            const response = await axios.request(options);
            let data = response.data;

            // Parse string data into JSON object
            if (typeof data === 'string') {
                data = JSON.parse(data);
            }

            const playerDataElement = document.getElementById('playerData');
            playerDataElement.innerHTML = ''; // Clear previous data

            for (const key in data) {
                const value = data[key];
                if (typeof value === 'object' && value !== null) {
                    // Handle first level nested object
                    const nestedObjectElement = document.createElement('div');
                    const title = document.createElement('h2');
                    title.innerText = key;
                    nestedObjectElement.appendChild(title);
                    for (const nestedKey in value) {
                        const nestedValue = value[nestedKey];
                        if (typeof nestedValue === 'object' && nestedValue !== null) {
                            // Handle second level nested object
                            const secondNestedObjectElement = document.createElement('div');
                            const secondTitle = document.createElement('h3');
                            secondTitle.innerText = nestedKey;
                            secondNestedObjectElement.appendChild(secondTitle);
                            for (const secondNestedKey in nestedValue) {
                                const secondNestedStats = document.createElement('p');
                                secondNestedStats.innerText = `${secondNestedKey}: ${nestedValue[secondNestedKey]}`;
                                secondNestedObjectElement.appendChild(secondNestedStats);
                            }
                            nestedObjectElement.appendChild(secondNestedObjectElement);
                        } else {
                            const nestedStats = document.createElement('p');
                            nestedStats.innerText = `${nestedKey}: ${nestedValue}`;
                            nestedObjectElement.appendChild(nestedStats);
                        }
                    }
                    playerDataElement.appendChild(nestedObjectElement);
                } else {
                    const stats = document.createElement('p');
                    stats.innerText = `${key}: ${value}`;
                    playerDataElement.appendChild(stats);
                }
            }
        } catch (error) {
            console.error('Error:', error);
        }
    }
</script>


    
</body>
</html>